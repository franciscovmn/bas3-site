<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Código da AdOpt: cole no <head> -->
  <meta name="adopt-website-id" content="6ced041e-cb12-4791-9d1a-07429c773b06" />
  <script src="https://tag.goadopt.io/injector.js?website_code=6ced041e-cb12-4791-9d1a-07429c773b06"
          class="adopt-injector" async></script>

  <title>Teste Tag AdOpt</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .status { margin-top: 12px; padding: 10px; border-radius: 6px; display:inline-block; }
    .ok { background:#e6ffed; color:#086c2e; }
    .err { background:#ffe6e6; color:#8b1e1e; }
  </style>
</head>
<body>
  <h1>Teste da Tag AdOpt</h1>
  <p>Clique em "Testar tag" para verificar se o injector foi carregado.</p>
  <button id="testBtn">Testar tag</button>
  <div id="result" class="status" aria-live="polite"></div>

  <script>
    document.getElementById('testBtn').addEventListener('click', function () {
      var result = document.getElementById('result');
      // Verifica se o elemento script com a classe adot-injector existe
      var scriptElem = document.querySelector('script.adopt-injector');
      if (!scriptElem) {
        result.textContent = 'Tag não encontrada no <head>.';
        result.className = 'status err';
        return;
      }
      // Se o script já terminou de carregar, onload pode não ser chamado — checar readyState ou propriedades
      function markOK() {
        result.textContent = 'Script injector encontrado e carregado (ou presente). Verifique funcionalidades da AdOpt no console.';
        result.className = 'status ok';
      }
      function markErr() {
        result.textContent = 'Script presente, mas não pôde ser verificado como carregado.';
        result.className = 'status err';
      }
      // Tenta usar onload/onerror se disponível
      if (scriptElem.complete || scriptElem.readyState === 'loaded' || scriptElem.readyState === 'complete') {
        markOK();
      } else {
        // temporizador de fallback caso onload não seja chamado
        var done = false;
        scriptElem.addEventListener('load', function () { done = true; markOK(); }, { once: true });
        scriptElem.addEventListener('error', function () { done = true; markErr(); }, { once: true });
        setTimeout(function () { if (!done) markErr(); }, 3000);
      }
      // Informação adicional para debugging
      console.log('Script element:', scriptElem);
    });
  </script>
</body>
</html>